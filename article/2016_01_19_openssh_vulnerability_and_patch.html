<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenSSH Vulnerability and Patch :: Jordan Majd</title>
  <link rel=stylesheet href="/css/codemirror.css">
  <link rel=stylesheet href="/css/ejs.css">
  <link rel="alternate" type="application/atom+xml" href="/feed.xml">
  <!-- Hail Satanalytics! -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-59781126-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-59781126-2');
  </script>
</head>
<body>
<article>
<nav><a href="2017_04_24_hand_tracked_natural_interaction_in_vr.html" title="newer article">◄</a> <a href="/index.html" title="home">◆</a> <a href="2015_12_16_install_and_run_postgres_on_osx.html" title="older article">►</a></nav>

<h1><span class=chap_num>Saturday, January 9, 2016</span>OpenSSH Vulnerability and Patch</h1>

<p><a class="p_ident" id="p_uSDk6QZNRx" href="#p_uSDk6QZNRx" tabindex="-1" role="presentation"></a>To any OpenSSH users out there:</p>

<p><a class="p_ident" id="p_CFSb4HQZA/" href="#p_CFSb4HQZA/" tabindex="-1" role="presentation"></a>A vulnerability was found in OpenSSH where the default <code>UseRoaming</code> config can leak private key to infected hosts.  Affects OpenSSH versions 5.4 through 7.1. Thankfully a patch is out.</p>

<p><a class="p_ident" id="p_FInu9T1kv3" href="#p_FInu9T1kv3" tabindex="-1" role="presentation"></a>On OSX it can be patched by running:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_9IDYhlr8q0" href="#c_9IDYhlr8q0" tabindex="-1" role="presentation"></a><span class="cm-variable">brew</span> <span class="cm-variable">update</span>
<span class="cm-variable">brew</span> <span class="cm-variable">upgrade</span>
<span class="cm-variable">brew</span> <span class="cm-variable">tap</span> <span class="cm-variable">homebrew</span><span class="cm-operator">/</span><span class="cm-variable">dupes</span>
<span class="cm-error"># if you don't already have it</span>
<span class="cm-variable">brew</span> <span class="cm-variable">install</span> <span class="cm-variable">openssl</span>
<span class="cm-error"># it should find version 7.1p2 which contains the fix</span>
<span class="cm-variable">brew</span> <span class="cm-variable">install</span> <span class="cm-variable">openssh</span>
<span class="cm-error"># verify the version, should be:  OpenSSH_7.1p2, OpenSSL 1.0.2e 3 Dec 2015</span>
<span class="cm-variable">ssh</span> <span class="cm-operator">-</span><span class="cm-variable">V</span></pre>

<p><a class="p_ident" id="p_EtbFu5A8fI" href="#p_EtbFu5A8fI" tabindex="-1" role="presentation"></a>You’ll need to restart the terminal session to see the latest version.</p>

<p><a class="p_ident" id="p_FV2126fG9P" href="#p_FV2126fG9P" tabindex="-1" role="presentation"></a>If for some reason a system can’t be patched, <code>UseRoaming</code> can be disabled:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_oAVPcdWfcX" href="#c_oAVPcdWfcX" tabindex="-1" role="presentation"></a><span class="cm-variable">echo</span> <span class="cm-operator">-</span><span class="cm-variable">e</span> <span class="cm-string">'Host *\nUseRoaming no'</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-string-2">/etc/</span><span class="cm-variable">ssh</span><span class="cm-operator">/</span><span class="cm-variable">ssh_config</span></pre>

<ul>

<li>

<p><a class="p_ident" id="p_ZGBh4vOIKc" href="#p_ZGBh4vOIKc" tabindex="-1" role="presentation"></a><a href="http://undeadly.org/cgi?action=article&amp;sid=20160114142733">Read More</a></p></li>

<li>

<p><a class="p_ident" id="p_ctm8jlYBAD" href="#p_ctm8jlYBAD" tabindex="-1" role="presentation"></a><a href="https://news.ycombinator.com/item?id=10901588">Related Discussion</a></p></li></ul><nav><a href="2017_04_24_hand_tracked_natural_interaction_in_vr.html" title="newer article">◄</a> <a href="/index.html" title="home">◆</a> <a href="2015_12_16_install_and_run_postgres_on_osx.html" title="older article">►</a></nav>
<footer style="font-size: .8em;">
  <a href="/feed.xml">RSS</a>
  <p style="text-align: center;">2019 &copy; Jordan Majd.</p>
</footer>
</article>
<script src="/js/acorn_codemirror.js"></script>
<script src="/js/sandbox.js"></script>
<script src="/js/ejs.js"></script><script>var chapNum = 1;</script></body>
</html>
